;-------------------------------------------------------------------------------
; delay.S - gcc compatible interrupt driven led blinker in msp430 asm
;	
;-------------------------------------------------------------------------------
.file "delay.S"

#include <msp430.h>

;-------------------------------------------------------------------------------
.section .text, "ax", @progbits
;-------------------------------------------------------------------------------

// Function delay
;-------------------------------------------------------------------------------
.globl delay
.type delay, @function
;-------------------------------------------------------------------------------

delay:
1:
  dec.w r9
  jnz 1b
  ret

// Function delay10
;-------------------------------------------------------------------------------
.globl delay_by_x
.type delay_by_x, @function
;-------------------------------------------------------------------------------

delay_by_x:

1:
  push.w r9
2:
  dec.w r9
  jnz 2b
  pop.w r9
  dec.b r10
  jnz 1b

  ret

.end
